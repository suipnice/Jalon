<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="jalon.content">

<body>
    <metal:main fill-slot="content">

    <h2>
        <tal:block i18n:translate="">Exporter l'exercice</tal:block>
         « <tal:block content="context/Title" /> »
        <a tal:condition="is_ajax" class="close-reveal-modal"></a>
    </h2>

    <form method="POST"
          tal:attributes="action string:${context/absolute_url}/export_wims_exercice_script;
                          data-success_msg string:Votre fichier est en cours de téléchargement…"
          i18n:attributes="data-success_msg"
          tal:define="listeExports context/getListeExports"
          id="js-exportWIMS-form">

         <metal:macro tal:condition="not:is_ajax | nothing"
                      use-macro="here/global_statusmessage_macro/macros/portal_message">Message de session</metal:macro>

        <h3>Choisissez sous quel format vous souhaitez exporter cet exercice :</h3>
        <input type="hidden" name="format" id="js-export_format" value="OEF" />

        <dl id="js-accordion_export-WIMS" class="accordion"
            data-accordion="export-WIMS">
            <dd class="accordion-navigation" tal:condition="python:'QTI' in listeExports">
                <a href="#QTI">QTI <span class="label">Utilisable dans divers LMS et outils tiers</span></a>
                <div id="QTI" class="content">
                    <ul>
                        <li>
                            <input type="radio" id="QTI_default" value="1.2.1" name="version"/>
                            <label for="QTI_default">
                                version 1.2.1
                                <span class="label secondary">Utilisable entre autres par TurningPoint 5 et Respondus 4</span>
                            </label>
                        </li>
                        <li>
                            <input type="radio" id="QTI_2" value="2.1" name="version"/>
                            <label for="QTI_2">
                                version 2.1
                                <span class="label secondary">Utilisable entre autres par Claroline Connect</span>
                            </label>
                        </li>
                    </ul>
                </div>
            </dd>
            <dd class="accordion-navigation" tal:condition="python:'FLL' in listeExports">
                <a href="#FLL">Flow Lesson <span class="label">Utilisable dans 'Lesson Builder' de Turning Technologies</span></a>
                <div id="FLL" class="content">
                    <ul>
                        <li>
                            <input type="radio" id="FLL_default" value="default" name="version"/>
                            <label for="FLL_default" i18n:translate="">Format Flow Lesson (.fll) de Lesson Builder 2.0</label>
                            <span class="label secondary"><a href="http://help.turningtechnologies.com/flow/#Flow/LessonBuilder/LessonBuilder.htm" target="_blank">En savoir plus sur « Flow &amp; Lesson Builder 2.0 »</a></span>
                        </li>
                    </ul>
                </div>
            </dd>
            <dd class="accordion-navigation" tal:condition="python:'OLX' in listeExports">
                <a href="#OLX">edX <span class="label">Utilisable dans le LMS edX</span></a>
                <div id="OLX" class="content">
                    <ul>
                        <li>
                            <input type="radio" id="OLX_default" value="default" name="version"/>
                            <label for="OLX_default" i18n:translate="">Format OLX (Open edX, version Cypress)</label>
                            <span class="label secondary"><a href="http://edx.readthedocs.org/projects/edx-installing-configuring-and-running/en/latest/cypress.html" target="_blank">En savoir plus sur « Open edX (version Cypress) »</a></span>
                        </li>
                    </ul>
                </div>
            </dd>

            <dd class="accordion-navigation">
                <a href="#OEF">OEF <span class="label">Format natif de WIMS</span></a>
                <div id="OEF" class="content active">
                    <ul>
                        <li>
                            <input type="radio" id="OEF_default" value="latest" name="version" checked="checked"/>
                            <label for="OEF_default" i18n:translate="">Format OEF</label>
                            <span class="label secondary"><a href="http://wims.unice.fr/wims/wims.cgi?lang=fr&amp;module=help/teacher/docexooef.fr" target="_blank">En savoir plus sur « OEF - Open Exercice Format »</a></span>
                        </li>
                    </ul>
                </div>
            </dd>
        </dl>

        <div class="panel warning radius formHelp" i18n:translate="" tal:condition="python:len(listeExports)>1">
            Étant données les limitations de chaque format et du logiciel dans lequel vous importez, seul le format OEF permet d'obtenir un exercice absolument identique à ce que vous voyez dans WIMS.
        </div>
        <div class="text-right texte_icone icone_information"
             i18n:translate="" tal:condition="python:len(listeExports)<=1"
             style="font-size:80%;">
            Contactez-nous si vous souhaitez exporter cet exercice dans un format qui n'apparait pas ici.
        </div>

        <div class="formControls">
            <button type="submit" class="button small radius close-download-modal"
                    name="form.button.save">
                <i class="fa fa-download"></i>
                <tal:block i18n:translate="">Télécharger</tal:block>
            </button>
        </div>
    </form>

    <script charset="UTF-8"
        tal:content="structure string:$$(document).foundation('accordion', 'reflow')"></script>
    <script charset="UTF-8"
        tal:content="structure string:setWimsExportAccordionRadio('js-accordion_export-WIMS')"></script>
    <script charset="UTF-8"
        tal:content="structure string:closeDownloadModal('js-exportWIMS-form')"></script>

</metal:main>

</body>

</html>
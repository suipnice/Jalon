<metal:macro define-macro="course_informations">
<div class="row">
    <nav class="right" tal:condition="my_view/is_personnel">
        <a data-reveal-ajax="true" data-reveal-id="reveal-main"
           tal:attributes="href string:${context/absolute_url}/edit_course_title_form;
                           title string:Modifier le titre"
           i18n:attributes="title">
            <i class="fa fa-pencil fa-lg no-pad"></i>
        </a>
        <a data-reveal-ajax="true" data-reveal-id="reveal-main-large"
           tal:attributes="href string:${context/absolute_url}/edit_course_public_access_form;
                           title string:Accès public"
           i18n:attributes="title">
            <i tal:attributes="class string:fa fa-globe fa-lg no-pad ${my_view/is_public}"></i>
        </a>
    </nav>
    <h1>
        <i class="fa fa-book"></i><tal:replace replace="python:context.supprimerMarquageHTML(context.Title())" />
    </h1>
</div>

<div class="row">
    <div id="description_cours"
         class="panel bkgrnd radius small-12 medium-6 columns">
        <a class="right"
           data-reveal-ajax="true" data-reveal-id="reveal-main"
           tal:attributes="href string:${context/absolute_url}/edit_course_description_form"
           tal:condition="my_view/is_personnel">
            <i class="fa fa-pencil fa-lg"></i>
        </a>
        <h2>
            <i class="fa fa-info-circle no-pad"></i>
            <tal:block i18n:translate="">Description du cours :</tal:block>
        </h2>
        <p tal:content="structure my_view/course_short_description/desc" />
        <a data-reveal-ajax="true" data-reveal-id="reveal-main"
           tal:attributes="href string:${context/absolute_url}/course_full_description_page"
           tal:condition="my_view/course_short_description/link">
           <i>Voir la description complète…</i>
        </a>
    </div>
    <div class="small-12 medium-6 columns">
        <div id="panel_auteur" class="panel bkgrnd radius">
            <a class="right" data-reveal-ajax="true" data-reveal-id="reveal-main-large"
               tal:attributes="href string:${context/absolute_url}/edit_course_author_form"
               tal:condition="my_view/is_personnel">
                <i class="fa fa-pencil fa-lg"></i>
            </a>
            <dl>
                <dt>
                    <i class="fa fa-user no-pad"></i>
                    <tal:block i18n:translate="auteur">Auteur :</tal:block>
                </dt>
                <dd>
                    <a tal:attributes="href my_view/course_author_link"
                       target="_blank"
                       tal:content="my_view/course_author_name" />
                </dd>
            </dl>
        </div>
        <div class="panel bkgrnd radius">
            <tal:personnel condition="my_view/is_personnel">
            <span class="right" tal:condition="my_view/is_personnel">
                <a class="dropdown"
                   data-options="align:bottom" data-dropdown="course-coauthor">
                    <i class="fa fa-cog fa-lg"></i>
                </a>
                <ul id="course-coauthor" class="f-dropdown" data-dropdown-content>
                    <li>
                        <a data-reveal-ajax="true" data-reveal-id="reveal-main-large"
                           tal:attributes="href string:${context/absolute_url}/add_course_coauthor_form">
                            <i class="fa fa-plus-circle fa-fw no-pad"></i>
                            <tal:block i18n:translate="">Ajouter</tal:block>
                        </a>
                    </li>
                    <li>
                        <a data-reveal-ajax="true" data-reveal-id="reveal-main-large"
                           tal:attributes="href string:${context/absolute_url}/remove_course_coauthor_form">
                            <i class="fa fa-trash fa-fw no-pad alert"></i>
                            <tal:block i18n:translate="">Supprimer</tal:block>
                        </a>
                    </li>
                </ul>
            </span>
            </tal:personnel>
            <dl>
                <dt>
                    <i class="fa fa-users no-pad"></i>
                    <tal:block i18n:translate="coauteurs">Co-auteur(s) :</tal:block>
                </dt>
                <dd tal:repeat="course_coauthor my_view/course_coauthor_list">
                    <tal:define define="is_last repeat/course_coauthor/end;
                                        itemNbr repeat/course_coauthor/length;">
                    <a target="_blank"
                       tal:attributes="href course_coauthor/course_coauthor_link"
                       tal:content="course_coauthor/course_coauthor_name" /><tal:isNotLast tal:condition="not:is_last"><tal:interSep condition="python: itemNbr > 1">,</tal:interSep></tal:isNotLast><tal:isLast tal:condition="is_last"><tal:finalSep condition="python: itemNbr > 1">.</tal:finalSep></tal:isLast>
                    </tal:define>
                </dd>
                <tal:comment replace="nothing"><!--
                    Les conditions ci-dessus sont à la suite pour éviter l'apparition d'un espace avant le signe de ponctuation.
                --></tal:comment>
                <tal:condition condition="not:my_view/course_coauthor_list">
                <dd>il n'y a aucun co-auteur pour ce cours.</dd>
                </tal:condition>
            </dl>
        </div>
    </div>
</div>
</metal:macro>
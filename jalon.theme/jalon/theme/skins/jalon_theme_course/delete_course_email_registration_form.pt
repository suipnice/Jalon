<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="jalon.content">

<body>

<metal:main fill-slot="content">

    <h2>
        <tal:block i18n:translate="">Supprimer des inscriptions extérieures par courriel</tal:block>
        <a class="close-reveal-modal"></a>
    </h2>

    <form id="js-mailRegistration" method="POST"
          tal:define="email_registration_list context/getEmailRegistration"
          tal:attributes="action string:${context/absolute_url}/delete_course_email_registration_script">
        <h3 class="texte_icone icone_users"
            i18n:translate="">Étudiant(s) extérieur(s) inscrit(s)</h3>

        <div class="panel callout radius"
             tal:condition="not:email_registration_list"
             i18n:translate="">
            Le cours n'est diffusé à aucun étudiant.
        </div>

    <tal:condition condition="email_registration_list">
        <div class="panel callout radius">
            <tal:block i18n:translate="">Désélectionnez les étudiant(e)s que vous souhaitez désinscrire, puis cliquez sur « Supprimer ».</tal:block>
        </div>

        <table>
        <thead>
            <tr>
                <th class="checkall show-for-medium-up">
                    <div class="switch tiny round">
                        <input type="checkbox" id="switch_reveal-all" name="checkall" role="etu_email:list" checked="checked" />
                        <label for="switch_reveal-all" title="Action par lot : tout sélectionner / désélectionner"
                               i18n:attributes="title"></label>
                    </div>
                </th>
                <th class="sort" data-sort="name" title="Trier selon le nom" i18n:attributes="title">
                    <span>
                        <i class="fa fa-sort"></i>
                        <i class="fa fa-sort-asc"></i>
                        <i class="fa fa-sort-desc"></i>
                        <tal:block i18n:translate="">NOM Prénom</tal:block>
                    </span>
                </th>
                <th class="sort" data-sort="email" title="Trier selon l'adresse de courriel" i18n:attributes="title">
                    <span>
                        <i class="fa fa-sort"></i>
                        <i class="fa fa-sort-asc"></i>
                        <i class="fa fa-sort-desc"></i>
                        <tal:block i18n:translate="">Courriel</tal:block>
                    </span>
                </th>
            </tr>
        </thead>
        <tbody class="list">
            <tr tal:repeat="email_registration email_registration_list">
                <td class="check">
                    <div class="switch tiny round">
                        <input type="checkbox" name="etu_email:list" checked="checked"
                               tal:attributes="id string:switch_reveal-${repeat/email_registration/index};
                                               value email_registration/email" />
                        <label title="Sélectionner / désélectionner"
                               tal:attributes="for string:switch_reveal-${repeat/email_registration/index}"
                               i18n:attributes="title"></label>
                    </div>
                </td>
                <td class="name" tal:content="email_registration/nom" />
                <td class="email" tal:content="email_registration/email" />
            </tr>
        </tbody>
        </table>

        <script charset="UTF-8"
                tal:content="structure string:setSortableList('js-mailRegistration',['name','email'],'name','asc')"></script>
        <script charset="UTF-8"
                tal:content="structure string:setBatchSelect('js-mailRegistration',true)"></script>

        <div class="formControls">
            <button type="submit" class="button small radius alert">
                <i class="fa fa-trash-o"></i>
                <tal:block i18n:translate="">Supprimer</tal:block>
            </button>
        </div>
    </tal:condition>

    </form>

</metal:main>

</body>

</html>
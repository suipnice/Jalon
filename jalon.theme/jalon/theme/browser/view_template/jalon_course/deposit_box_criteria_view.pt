<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="jalon.content">

<body>

<metal:main fill-slot="content"
            tal:define="my_view view/getCriteriaView">

    <tal:define define="breadcrumbs view/getBreadcrumbs">
    <metal:macro use-macro="context/breadcrumbs_macro/macros/breadcrumbs">
        Page d'affichage du fil d'ariane
    </metal:macro>
    </tal:define>

    <div id="reveal-main" class="reveal-modal medium" 
         data-reveal="data-reveal" data-options="close_on_background_click: true;"></div>
    <div id="reveal-main_second" class="reveal-modal medium"
         data-reveal="data-reveal" data-options="close_on_background_click: true;"></div>
    <div id="reveal-main-large" class="reveal-modal large"
         data-reveal="data-reveal" data-options="close_on_background_click: true;"></div>

    <main class="row" role="main" aria-labelledby="page_title">
        <h1>
            Grille d'évaluation
        </h1>

        <ul class="tabs" data-tab role="tablist">
            <tal:repeat repeat="index my_view/criteria_order">
            <li class="tab-title" role="presentation">
                <a role="tab" tabindex="0" aria-selected="true"
                   tal:attributes="href string:#criteria${repeat/index/number};
                                   aria-controls string:#criteria${repeat/index/number}"
                   tal:content="string:Critère ${repeat/index/number}"/>
            </li>
            </tal:repeat>
        </ul>

        <div class="tabs-content peer_evaluate">
            <section role="tabpanel" aria-hidden="true" class="content active">
                <div class="panel callout radius">Sélectionnez un onglet</div>
            </section>

            <tal:repeat repeat="index my_view/criteria_order">
            <section role="tabpanel" aria-hidden="true" class="content"
                     tal:define="criteria python:my_view['criteria_dict'][index];
                                 criteria_id string:criteria${repeat/index/number}"
                     tal:attributes="id criteria_id">
                <h2>
                    <a class="right" data-reveal-id="reveal-main" data-reveal-ajax="true"
                       tal:attributes="href string:${my_view/deposit_box_link}/edit_deposit_box_criteria_form?criteria_id=${index}">
                        <i class="fa fa-pencil"></i>
                    </a>
                    <tal:replace replace="criteria/title"/> 
                </h2>
                <h3>Description :</h3>
                <div class="panel callout radius"
                     tal:content="criteria/description"/>
                <h3>
                    Coefficient : <tal:replace replace="criteria/coefficient"/>
                </h3>
                <h3>
                    Marge : <tal:replace replace="criteria/gap"/>
                </h3>
                <h3>
                    Commentaire étudiant : <tal:replace replace="python:my_view['comment_dict'][criteria['comment']]"/>
                </h3>
                <h3>
                    Taille du commentaire : entre <tal:replace replace="criteria/comment_min"/> et <tal:replace replace="criteria/comment_max"/> caractères
                </h3>
            </section>
            </tal:repeat>
        </div>
    </main>
</metal:main>

</body>

</html>
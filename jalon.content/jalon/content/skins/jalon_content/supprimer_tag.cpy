## Script (Python) "etiqueter_script"##bind container=container##bind context=context##bind namespace=##bind script=script##bind state=state##bind subpath=traverse_subpath##parameters=subject##title=### Suppression de l'étiquettesubjects = list(context.Subject())if subject in subjects:    subjects.remove(subject)context.setSubject(tuple(subjects))context.reindexObject()"""# Mise à jour du cookiecookieName = 'tags_' + context.getId().lower()cookieContent = context.REQUEST.cookies.get(cookieName, "")if cookieContent != "":    cookieTags = cookieContent.split(",")    try:        cookieTags.remove(subject)    except ValueError:        pass    context.REQUEST.RESPONSE.setCookie(cookieName, ','.join(cookieTags), False)"""# Mise à jour des sélections enregistrées en sessiontags = context.REQUEST.SESSION.get( 'tags' )spaceName = context.getId().lower()selected = tags[ spaceName ].split(",")try:    selected.remove(subject)except ValueError:    passtags[ spaceName ] = ','.join(selected)context.REQUEST.SESSION.set( 'tags' , tags )#context.plone_log( context.REQUEST.SESSION.get( 'tags' ) )# Retourcontext.REQUEST.set("retour", context.absolute_url())return state.set(status="success")